[build]
  command = "npm run build"
  publish = ".next"

[build.environment]
  NETLIFY_NEXT_PLUGIN_SKIP = "true"
  NODE_VERSION = "18"
  # Force production URL for authentication redirects
  NEXT_PUBLIC_SITE_URL = "https://headshotmakerpro.com"

# Production context: all deploys from the Production branch set in your site's
# deploy settings will inherit these settings.
[context.production.environment]
  NEXT_PUBLIC_SITE_URL = "https://headshotmakerpro.com"
  NODE_ENV = "production"

# Branch deploy context: All deploys that are not from a pull/merge request
# or from the Production branch will inherit these settings.
[context.branch-deploy.environment]
  NEXT_PUBLIC_SITE_URL = "https://headshotmakerpro.com"
  NODE_ENV = "production"

# Deploy Preview context: all deploys generated from a pull/merge request
# will inherit these settings.
[context.deploy-preview.environment]
  NEXT_PUBLIC_SITE_URL = "https://headshotmakerpro.com" 
  NODE_ENV = "production"

[[plugins]]
  package = "@netlify/plugin-nextjs"
